class Solution {
    public static ArrayList<ArrayList<Integer>> findPairsWithGivenSum(int target,
                                                                      Node head) {
     if (head == null) return new ArrayList<>();
     Node tail=head;
     while(tail.next!=null)
     {
         tail=tail.next;
     }
     ArrayList<ArrayList<Integer>> ans=new ArrayList<>();
     while (head != tail && tail.next != head)
     {
         int sum = head.data + tail.data;

         if(sum==target)
         {
             ArrayList<Integer> list=new ArrayList<>();
             list.add(head.data);
             list.add(tail.data);
             ans.add(list);
             
                head = head.next;
                tail = tail.prev;
         }
         else if(sum<target)
         {
            head=head.next;
         }
         else{
    tail=tail.prev;
         }
         
         
     }
     return ans;
    }
}
